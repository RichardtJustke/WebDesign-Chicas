<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfólio — Chicas Eventos</title>
  <link rel="icon" href="../assets/public/img/favicon.png">
  <link rel="stylesheet" href="../assets/css/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script> tailwind.config = { prefix: 'tw-', corePlugins: { preflight: false } };</script>
  <style>
    /* chips */
    .pf-chip{padding:.625rem 1.25rem;border-radius:9999px;font-weight:600;font-size:.9rem;background:#fff;color:#0f172a;border:1px solid #e2e8f0;box-shadow:0 1px 2px rgba(0,0,0,.04);transition:.2s;display:inline-flex;align-items:center;justify-content:center}
    .pf-chip:hover{background:#f8fafc}
    .pf-active,.pf-primary{background:#059669;color:#fff;border-color:#059669}.pf-primary:hover{filter:brightness(.95)}
    /* esteiras */
    .pf-marquee-wrap{height:180px;background:#fff}
    @media (min-width:768px){.pf-marquee-wrap{height:210px}}
    .pf-track{display:flex;align-items:center;gap:16px;width:max-content;height:100%}
    .pf-item{height:100%;width:300px;object-fit:cover;border-radius:16px;box-shadow:0 6px 14px rgba(0,0,0,.08);cursor:pointer}
    @media (max-width:767px){.pf-item{width:220px;border-radius:14px}}
    @keyframes pf-move-right{0%{transform:translateX(-50%)}100%{transform:translateX(0)}}
    .pf-track-rtl{animation:pf-move-right 30s linear infinite;will-change:transform}
    .pf-slower{animation-duration:36s}
    .pf-slowest{animation-duration:42s}
    /* modal */
    .pf-modal{position:fixed;inset:0;background:rgba(2,6,23,.72);backdrop-filter:saturate(120%) blur(4px);display:none;z-index:60}
    .pf-modal.open{display:flex}
  </style>
</head>
<body class="tw-min-h-screen tw-flex tw-flex-col tw-bg-white">

  <!-- HEADER igual -->
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="../index.html"><span class="logo"></span><strong>Chicas Eventos</strong></a>
      <button class="hamb md:tw-hidden" id="hamb" aria-label="Abrir menu">☰</button>
      <nav class="tw-hidden md:tw-block">
        <ul class="nav-list">
          <li><a href="servicos.html">Serviços</a></li>
          <li><a class="is-active" href="portfolio.html">Portfólio</a></li>
          <li><a href="sobre.html">Sobre</a></li>
          <li><a class="nav-cta" href="briefing.html">Fazer orçamento</a></li>
        </ul>
      </nav>
    </div>
    <ul id="menuMobile" class="nav-mobile" style="display:none">
      <li><a href="servicos.html">Serviços</a></li>
      <li><a href="portfolio.html">Portfólio</a></li>
      <li><a href="sobre.html">Sobre</a></li>
      <li><a class="nav-cta" href="briefing.html">Fazer orçamento</a></li>
    </ul>
  </header>

  <main class="tw-flex-1 tw-py-12">
    <div class="tw-container tw-mx-auto tw-max-w-6xl tw-px-4">

      <!-- Cabeçalho -->
      <div class="tw-flex tw-flex-col tw-items-start tw-gap-4 tw-mb-6">
        <div>
          <h1 class="tw-text-3xl md:tw-text-4xl tw-font-extrabold tw-text-slate-900">Portfólio</h1>
          <p class="tw-text-slate-600 tw-mt-2 tw-max-w-2xl">
            Clique em qualquer imagem para ver os detalhes do evento e a galeria completa.
          </p>
        </div>

        <!-- Filtros continuam (opcional) — "Todas" mostra TODAS as fotos -->
        <div class="tw-flex tw-flex-wrap tw-gap-3">
          <a href="portfolio.html" class="pf-chip pf-primary">Ver portfólio</a>
          <button class="pf-chip pf-active" data-filter="all">Todas</button>
          <button class="pf-chip" data-filter="buffet">Buffet</button>
          <button class="pf-chip" data-filter="aud">Audiovisual</button>
          <button class="pf-chip" data-filter="rh">RH</button>
          <button class="pf-chip" data-filter="org">Organização</button>
        </div>
      </div>

      <!-- 6 Esteiras -->
      <div class="tw-space-y-4">
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-1" class="pf-track pf-track-rtl"></div>
        </div>
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-2" class="pf-track pf-track-rtl pf-slower"></div>
        </div>
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-3" class="pf-track pf-track-rtl pf-slowest"></div>
        </div>
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-4" class="pf-track pf-track-rtl"></div>
        </div>
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-5" class="pf-track pf-track-rtl pf-slower"></div>
        </div>
        <div class="pf-marquee-wrap tw-overflow-hidden tw-rounded-2xl">
          <div id="pf-track-6" class="pf-track pf-track-rtl pf-slowest"></div>
        </div>
      </div>
    </div>
  </main>

  <!-- MODAL -->
  <div id="pfModal" class="pf-modal tw-items-center tw-justify-center tw-px-4">
    <div class="tw-bg-white tw-rounded-2xl tw-w-full tw-max-w-4xl tw-overflow-hidden">
      <div class="tw-flex tw-justify-between tw-items-start tw-gap-4 tw-p-5 tw-border-b tw-border-slate-200">
        <div>
          <h3 id="mTitle" class="tw-text-xl md:tw-text-2xl tw-font-extrabold tw-text-slate-900">Evento</h3>
          <p id="mMeta" class="tw-text-sm tw-text-slate-500 tw-mt-1">Categoria • data</p>
        </div>
        <button id="mClose" class="tw-rounded-lg tw-p-2 tw-bg-slate-100 hover:tw-bg-slate-200" aria-label="Fechar">✕</button>
      </div>

      <div class="tw-p-5 tw-grid md:tw-grid-cols-3 tw-gap-4">
        <div class="md:tw-col-span-1">
          <p id="mDesc" class="tw-text-slate-700 tw-leading-relaxed">Descrição do evento…</p>
        </div>
        <div class="md:tw-col-span-2">
          <div class="tw-relative tw-rounded-xl tw-overflow-hidden tw-aspect-[16/9] tw-bg-slate-100">
            <img id="mHero" src="" alt="" class="tw-absolute tw-inset-0 tw-w-full tw-h-full tw-object-cover">
            <button id="mPrev" class="tw-absolute tw-left-2 tw-top-1/2 -tw-translate-y-1/2 tw-bg-white/80 hover:tw-bg-white tw-rounded-full tw-p-2" aria-label="Anterior">‹</button>
            <button id="mNext" class="tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2 tw-bg-white/80 hover:tw-bg-white tw-rounded-full tw-p-2" aria-label="Próxima">›</button>
          </div>
          <div id="mThumbs" class="tw-grid tw-grid-cols-5 tw-gap-2 tw-mt-3"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER igual -->
  <footer class="site-footer tw-mt-10">
    <div class="container footer-wrap">
      <div class="f-col">
        <div class="brand-line">
          <img src="../assets/public/img/favicon.png" alt="" class="f-logo" />
          <span class="f-brand">Chicas Eventos</span>
        </div>
        <p class="f-desc">Sabores que marcam momentos especiais! Personalize seu cardápio e torne seu evento inesquecível com nosso buffet exclusivo.</p>
        <div class="f-copy">© 2025 · Justke Design</div>
      </div>
      <div class="f-col">
        <h4 class="f-title">Navegue pelo site</h4>
        <ul class="f-links">
          <li><a href="servicos/buffet.html">Buffet</a></li>
          <li><a href="portfolio.html">Galeria</a></li>
          <li><a href="sobre.html">Sobre Nós</a></li>
          <li><a href="briefing.html">Contato</a></li>
        </ul>
      </div>
      <div class="f-col">
        <h4 class="f-title">Receba novidades e promoções!</h4>
        <p class="f-hint">Fique por dentro das novidades!</p>
        <form class="f-news" onsubmit="event.preventDefault(); alert('Valeu! (plugaremos depois)')">
          <input type="email" placeholder="Endereço de e-mail" required>
          <button aria-label="Enviar"><span class="dot"></span></button>
        </form>
      </div>
    </div>
  </footer>

  <!-- MENU mobile -->
  <script>
    const hamb = document.getElementById('hamb');
    const menuMobile = document.getElementById('menuMobile');
    hamb?.addEventListener('click', () => {
      const show = menuMobile.style.display !== 'block';
      menuMobile.style.display = show ? 'block' : 'none';
    });
    menuMobile?.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
      menuMobile.style.display = 'none';
    }));
  </script>

  <!-- LÓGICA -->
  <script>
    /** CADASTRO DE EVENTOS
     * Mantém por evento e lista TODAS as imagens de cada evento em images[].
     * O mesmo evento pode ter várias tags (categorias).
     */
    const EVENTS = [
      {
        id: 'aniver-luiza',
        name: 'Aniversário da Luiza',
        tags: ['buffet','rh'],
        date: 'ago/2024',
        cover: 'assets/public/img/buffet/buffet1.jpg',
        desc: 'Festa íntima com coquetel volante, mesa de doces e equipe de garçons.',
        images: [
          'assets/public/img/buffet/buffet1.jpg',
          'assets/public/img/buffet/buffet2.jpg',
          'assets/public/img/buffet/brunch1.jpg',
          'assets/public/img/buffet/brunch2.jpg',
          'assets/public/img/rh/operacional1.jpg',
          'assets/public/img/rh/operacional2.jpg'
        ]
      },
      {
        id: 'conferencia-tech',
        name: 'Conferência Tech',
        tags: ['aud','buffet','rh'],
        date: 'nov/2024',
        cover: 'assets/public/img/aud/cobertura1.jpg',
        desc: 'Cobertura completa com foto/vídeo e coffee break para 200 pessoas.',
        images: [
          'assets/public/img/aud/cobertura.jpg',
          'assets/public/img/aud/cobertura1.jpg',
          'assets/public/img/aud/fotografo2.jpg',
          'assets/public/img/aud/fotografo3.jpg',
          'assets/public/img/buffet/coqueteis1.jpg',
          'assets/public/img/buffet/coffeebreak1.jpg'
        ]
      },
      {
        id: 'casamento-ana-pedro',
        name: 'Casamento Ana & Pedro',
        tags: ['cerimonial','buffet','aud','rh'],
        date: 'mar/2025',
        cover: 'assets/public/img/org/ale.jpg',
        desc: 'Cerimonial, buffet de jantar e equipe completa de operação.',
        images: [
          'assets/public/img/buffet/buffet4.jpg',
          'assets/public/img/aud/fotografo4.jpg',
          'assets/public/img/aud/fotografo5.jpg',
          'assets/public/img/rh/operacional3.jpg',
          'assets/public/img/rh/operacional4.jpg',
          'assets/public/img/org/ale.jpg'
        ]
      },
      {
        id: 'lançamento-produto',
        name: 'Lançamento de Produto',
        tags: ['aud','buffet'],
        date: 'mai/2025',
        cover: 'assets/public/img/aud/fotografo3.jpg',
        desc: 'Evento de marca com coquetel e conteúdo para redes sociais ao vivo.',
        images: [
          'assets/public/img/aud/cobertura.jpg',
          'assets/public/img/aud/cobertura1.jpg',
          'assets/public/img/buffet/coqueteis1.jpg',
          'assets/public/img/buffet/buffet2.jpg',
          'assets/public/img/aud/fotografo3.jpg'
        ]
      },
      {
        id: 'workshop-gourmet',
        name: 'Workshop Gourmet',
        tags: ['buffet'],
        date: 'jul/2025',
        cover: 'assets/public/img/buffet/brunch3.jpg',
        desc: 'Oficina culinária com brunch e demonstrações.',
        images: [
          'assets/public/img/buffet/brunch1.jpg',
          'assets/public/img/buffet/brunch2.jpg',
          'assets/public/img/buffet/brunch3.jpg',
          'assets/public/img/buffet/buffet3.jpg'
        ]
      },
      {
        id: 'assembleia-corporativa',
        name: 'Assembleia Corporativa',
        tags: ['rh','org'],
        date: 'jun/2025',
        cover: 'assets/public/img/rh/operacional1.jpg',
        desc: 'Montagem de sala, apoio operacional e coordenação de tempos.',
        images: [
          'assets/public/img/rh/operacional1.jpg',
          'assets/public/img/rh/operacional2.jpg',
          'assets/public/img/rh/operacional3.jpg',
          'assets/public/img/org/ale.jpg'
        ]
      },
    ];

    /* --------- NOVO: lista plana com TODAS as imagens ---------
       Cada item tem: { src, eventId }
       (Inclui images[] + cover; remove duplicatas automaticamente) */
    function allImagesFor(events){
      const seen = new Set();
      const out = [];
      for (const ev of events){
        const imgs = [ev.cover, ...(ev.images || [])];
        for (const src of imgs){
          const key = ev.id + '|' + src;
          if (seen.has(key)) continue;
          seen.add(key);
          out.push({ src, eventId: ev.id });
        }
      }
      return out;
    }

    function filteredImages(filter){
      if (filter==='all') return allImagesFor(EVENTS);
      const inTag = EVENTS.filter(ev => ev.tags.includes(filter));
      return allImagesFor(inTag);
    }

    // --------- Render das esteiras usando TODAS as imagens ---------
    const chips = Array.from(document.querySelectorAll('.pf-chip[data-filter]'));
    const tracks = [
      document.getElementById('pf-track-1'),
      document.getElementById('pf-track-2'),
      document.getElementById('pf-track-3'),
      document.getElementById('pf-track-4'),
      document.getElementById('pf-track-5'),
      document.getElementById('pf-track-6'),
    ];

    function buildTrackItems(items){
      const seq = items.concat(items); // duplica para loop infinito
      return seq.map(it => `
        <img src="${it.src}" alt="" class="pf-item" data-id="${it.eventId}" />
      `).join('');
    }

    function render(filter='all'){
      const imgs = filteredImages(filter);
      // distribui as IMAGENS (não mais os eventos) por 6 linhas
      const buckets = [[],[],[],[],[],[]];
      imgs.forEach((im, i) => buckets[i % 6].push(im));
      // se alguma linha ficar vazia, replica
      for (let i=0;i<6;i++){
        if (buckets[i].length===0) buckets[i] = imgs.slice(0, Math.max(1, Math.ceil(imgs.length/6)));
      }

      tracks.forEach(t => t.style.animationPlayState='paused');
      tracks.forEach((t,i)=> t.innerHTML = buildTrackItems(buckets[i]));
      void tracks[0].offsetWidth;
      tracks.forEach(t => t.style.animationPlayState='running');

      // clique em QUALQUER imagem → abre modal do evento correspondente
      document.querySelectorAll('.pf-item').forEach(img=>{
        img.addEventListener('click', ()=> openModal(img.dataset.id));
      });
    }

    function setActive(filter){
      chips.forEach(c => c.classList.remove('pf-active'));
      const hit = chips.find(c => c.dataset.filter===filter);
      hit && hit.classList.add('pf-active');
    }

    chips.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const f = btn.dataset.filter;
        render(f); setActive(f);
      });
    });

    // inicial: TODAS as imagens
    render('all');

    // ------ MODAL / GALERIA (igual) ------
    const modal  = document.getElementById('pfModal');
    const mTitle = document.getElementById('mTitle');
    const mMeta  = document.getElementById('mMeta');
    const mDesc  = document.getElementById('mDesc');
    const mHero  = document.getElementById('mHero');
    const mThumbs= document.getElementById('mThumbs');
    const mClose = document.getElementById('mClose');
    const mPrev  = document.getElementById('mPrev');
    const mNext  = document.getElementById('mNext');

    let gallery = []; let index = 0;

    function openModal(eventId){
      const ev = EVENTS.find(e => e.id===eventId);
      if(!ev) return;
      mTitle.textContent = ev.name;
      mMeta.textContent  = `${ev.tags.join(' • ')}${ev.date? ' • ' + ev.date : ''}`;
      mDesc.textContent  = ev.desc || '';
      // galeria completa do evento
      const imgs = [ev.cover, ...(ev.images || [])];
      // dedup
      gallery = Array.from(new Set(imgs));
      index = 0;
      updateHero();
      buildThumbs();
      modal.classList.add('open');
      document.body.style.overflow='hidden';
    }

    function closeModal(){
      modal.classList.remove('open');
      document.body.style.overflow='';
    }

    function updateHero(){
      mHero.src = gallery[index];
      mHero.alt = `Foto ${index+1}`;
      Array.from(mThumbs.children).forEach((t,i)=>{
        t.classList.toggle('tw-ring-2', i===index);
        t.classList.toggle('tw-ring-slate-900', i===index);
      });
    }

    function buildThumbs(){
      mThumbs.innerHTML = '';
      gallery.forEach((src,i)=>{
        const img = document.createElement('img');
        img.src = src; img.alt = 'thumb';
        img.className = 'tw-w-full tw-h-20 tw-object-cover tw-rounded-lg tw-cursor-pointer';
        img.addEventListener('click', ()=>{ index=i; updateHero(); });
        mThumbs.appendChild(img);
      });
      updateHero();
    }

    mClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=> { if(e.target===modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{
      if(!modal.classList.contains('open')) return;
      if(e.key==='Escape') closeModal();
      if(e.key==='ArrowRight'){ index = (index+1)%gallery.length; updateHero(); }
      if(e.key==='ArrowLeft'){ index = (index-1+gallery.length)%gallery.length; updateHero(); }
    });
    mNext.addEventListener('click', ()=>{ index = (index+1)%gallery.length; updateHero(); });
    mPrev.addEventListener('click', ()=>{ index = (index-1+gallery.length)%gallery.length; updateHero(); });
  </script>
</body>
</html>
